<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="/Perawat/CatatInformasiPasien.css" />
  <style>
    /* CSS untuk input field yang besar dan panjang */
    .input-field {
      width: 100%;
      /* Lebar penuh sesuai kontainer */
      height: 50px;
      /* Tinggi input yang lebih besar */
      font-size: 16px;
      /* Ukuran font yang lebih besar */
      padding: 10px;
      /* Spasi dalam input */
      border-radius: 10px;
      /* Membuat sudut lebih membulat */
      box-sizing: border-box;
      /* Agar padding dan border dihitung dalam ukuran total */
      resize: none;
      /* Mencegah perubahan ukuran input */
    }

    /* Untuk textarea diagnosa yang lebih besar */
    textarea.input-field {
      height: 150px;
      /* Tinggi textarea lebih besar */
      font-size: 16px;
      /* Ukuran font lebih besar */
      resize: none;
      /* Mencegah perubahan ukuran textarea */
    }

    /* CSS for dropdown */
    select.input-field {
      height: 50px;
      font-size: 16px;
      padding: 10px;
      border-radius: 10px;
      box-sizing: border-box;
    }
  </style>
</head>

<body>
  <div class="mencatat-informasi">
    <div class="div">
      <div class="overlap">
        <div class="rectangle"></div>
        <div class="rectangle-2"></div>
        <div class="text-wrapper">POLIKLINIK X</div>
        <div class="group-wrapper">
          <div class="overlap-group-wrapper">
            <div class="overlap-group">
              <div class="rectangle-6"></div>
              <div class="rectangle-7"></div>
            </div>
          </div>
        </div>
        <img class="ellipse" th:src="@{/Perawat/img/account.png}" alt="Ikon Akun" 
        style="cursor: pointer;" onclick="confirmLogout()" />

        <script>
          function confirmLogout() {
            const userConfirmed = confirm("Apakah anda ingin log out?");
            if (userConfirmed) {
              // Arahkan ke halaman logout
              window.location.href = "http://localhost:8080/perawat/sebelumLoginPerawat";
            }
          }
        </script>
        <!-- Button -->
        <div class="text-wrapper-2" style="cursor: pointer; color: inherit;" onclick="navigateToSesudahLoginPerawat()">
          Beranda
        </div>
        <script>
          function navigateToSesudahLoginPerawat() {
            window.location.href = "http://localhost:8080/perawat/sesudahLoginPerawat";
          }
        </script>

        <div class="sub-head">
          <div class="overlap-group-2">
            <img class="img" src="/Perawat/img/rectangle-31.png" />
            <div class="rectangle-8"></div>
            <div class="div-wrapper">
              <div class="overlap-group-2">
                <div class="frame">
                  <div class="ellipse-2"></div>
                  <div class="ellipse-3"></div>
                </div>
                <div class="group-2">
                  <div class="rectangle-9"></div>
                  <div class="rectangle-10"></div>
                  <div class="rectangle-11"></div>
                </div>
              </div>
            </div>
            <div class="group-3">
              <div class="about-us">Catat Informasi Pasien</div>
              <div class="home-about">Beranda / Catat Diagnosa Pasien</div>
            </div>
          </div>
        </div>
      </div>
      <!-- Submit Button -->
      <div class="overlap-2" style="cursor: pointer; color: white;" onclick="navigateToInformasiPasien()">
        Submit
      </div>
      <script>
        function navigateToInformasiPasien() {
          window.location.href = "http://localhost:8080/perawat/catatInformasiPasien";
        }
      </script>

      <!-- Dropdown for Blood Type -->
      <div class="text-wrapper-8">Gol. Darah pasien</div>
      <div class="darah">
        <select name="bloodType" class="input-field">
          <option value="A" th:selected="${bloodType != null && bloodType == 'A'}">A</option>
          <option value="B" th:selected="${bloodType != null && bloodType == 'B'}">B</option>
          <option value="AB" th:selected="${bloodType != null && bloodType == 'AB'}">AB</option>
          <option value="O" th:selected="${bloodType != null && bloodType == 'O'}">O</option>
        </select>
      </div>

      <!-- Form input -->
      <div class="text-wrapper-4">Nomor rekam medis</div>
      <div class="overlap-3">
        <input type="text" name="medicalRecordNumber" class="input-field" placeholder="Masukkan nomor rekam medis"
          th:value="${medicalRecordNumber}" />
      </div>

      <div class="text-wrapper-6">Keluhan yang dirasakan pasien</div>
      <div class="overlap-4">
        <textarea name="diagnosis" class="input-field" placeholder="Masukkan diagnosa pasien"
          th:text="${diagnosis}"></textarea>
      </div>

      <div class="text-wrapper-9">Berat badan</div>
      <div class="overlap-5">
        <input type="number" name="patientWeight" class="input-field" placeholder="Masukkan berat badan pasien (kg)"
          th:value="${patientWeight}" />
      </div>

      <div class="text-wrapper-11">Nama dokter yang dikunjungi</div>
      <div class="overlap-6">
        <input type="text" name="doctorName" class="input-field"
          placeholder="Masukkan nama dokter yang ingin dikunjungi" th:value="${doctorName}" />
      </div>

      <div class="text-wrapper-12">Jadwal dokter yang dikunjungi</div>
      <div class="overlap-7">
        <input type="text" name="doctorSchedule" class="input-field" placeholder="Masukkan jadwal yang anda pilih"
          th:value="${doctorSchedule}" />
      </div>

      <div class="text-wrapper-13">Suhu</div>
      <div class="overlap-8">
        <input type="number" name="patientTemperature" class="input-field" placeholder="Masukkan suhu pasien (Â°C)"
          th:value="${patientTemperature}" />
      </div>

      <div class="text-wrapper-14">Tekanan Darah</div>
      <div class="overlap-9">
        <input type="number" name="bloodPressure" class="input-field" placeholder="Masukkan tekanan darah pasien"
          th:value="${bloodPressure}" />
      </div>

      <div class="text-wrapper-15">Tinggi badan</div>
      <div class="overlap-10">
        <input type="number" name="patientHeight" class="input-field" placeholder="Masukkan tinggi pasien (cm)"
          th:value="${patientHeight}" />
      </div>

      <div class="text-wrapper-16">Riwayat Penyakit</div>
      <div class="overlap-11">
        <input type="text" name="riwayatPenyakit" class="input-field" placeholder="Masukkan riwayat penyakit pasien"
          th:value="${riwayatPenyakit}" />
      </div>

      <div class="text-wrapper-17">Informasi Alergi</div>
      <div class="overlap-12">
        <input type="text" name="informasiAlergi" class="input-field" placeholder="Masukkan informasi alergi pasien"
          th:value="${informasiAlergi}" />
      </div>

      <div class="text-wrapper-18">Hasil Lab</div>
      <div class="many-upload">
        <div class="frame-22">
          <div class="default-content">
            <div class="text">
              <div class="drag-your-file-s-to-start-uploading">
                Drag your file(s) to start uploading
              </div>
              <input type="file" id="fileInput" multiple class="file-input" />
            </div>
            <div class="divider">
              <div class="line-1"></div>
              <div class="text2">OR</div>
              <div class="line-2"></div>
            </div>
            <div class="master-outline-button">
              <label for="fileInput" class="button">Browse files</label>
            </div>
          </div>
        </div>
        <div class="desc">Only support .jpg, .png, .svg, and zip files</div>
      </div>
      
      <script>
        fileInput.addEventListener('change', (event) => {
          const files = event.target.files;
          const frame = document.querySelector('.frame-22');
          const defaultContent = document.querySelector('.default-content');
    
          // Hide default content
          defaultContent.style.display = 'none';
    
          const allowedTypes = ['image/jpeg', 'image/png', 'image/svg+xml', 'application/zip'];
    
          for (const file of files) {
            if (!allowedTypes.includes(file.type)) {
              alert(`Unsupported file type: ${file.name}`);
              continue;
            }
    
            // Clear the frame and add preview
            frame.innerHTML = '';
    
            // Check if the file is an image type
            if (file.type.startsWith('image/')) {
              const imgPreview = document.createElement('img');
              imgPreview.src = URL.createObjectURL(file); // Create a URL for the image
              imgPreview.classList.add('preview'); // Add a class for styling
              frame.appendChild(imgPreview);
            } else {
              // If it's not an image, show file name
              const fileInfo = document.createElement('div');
              fileInfo.textContent = `File: ${file.name} (${(file.size / 1024).toFixed(2)} KB)`;
              frame.appendChild(fileInfo);
            }
    
            // Add a close button
            const closeButton = document.createElement('button');
            closeButton.textContent = 'X';
            closeButton.classList.add('close-button');
            closeButton.addEventListener('click', () => {
              frame.innerHTML = ''; // Clear the frame
              defaultContent.style.display = 'flex'; // Show default content
            });
            frame.appendChild(closeButton);
          }
        });
      </script>
    </div>
  </div>

</body>

</html>